<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>DBD Random Character</title>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      background: transparent; /* pour OBS */
      font-family: Arial, sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }

    /* Rouge pour Killer / Bleu pour Surv */
    body.killer {
      --accent-color: #ff4444;
    }
    body.survivor {
      --accent-color: #44aaff;
    }

    /* ----- PORTRAIT ----- */
    #portrait {
      width: 512px;      /* EXACTEMENT la taille des PNG */
      height: 512px;
      background-position: center;
      background-size: contain;  /* NECESSAIRE pour coller lâ€™image au cadre */
      background-repeat: no-repeat;

      border: 4px solid var(--accent-color);
      border-radius: 6px;

      box-shadow: 0 0 20px rgba(0,0,0,0.85);

      opacity: 0;
      transform: scale(0.9);
      animation: popIn 0.4s forwards;
    }

    /* ----- NOM DU PERSONNAGE ----- */
    #char-name {
      margin-top: 15px;
      font-size: 2.4rem;
      padding: 8px 25px;

      background: rgba(0,0,0,0.75);
      border-radius: 999px;
      border: 2px solid var(--accent-color);

      color: white;
      text-shadow: 0 0 5px black;
      opacity: 0;
      transform: translateY(5px);
      animation: fadeUp 0.4s forwards;
      animation-delay: 0.15s;
    }

    @keyframes popIn {
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    @keyframes fadeUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

  </style>
</head>

<body>
  <div id="portrait"></div>
  <div id="char-name"></div>

  <script>
    const KILLERS = [
      'The Animatronic','The Artist','The Blight','The Cannibal','The Cenobite',
      'The Clown','The Deathslinger','The Demogorgon','The Doctor','The Dracula',
      'The Dredge','The Executioner','The Ghoul','The Good Guy','The Hag',
      'The Hillbilly','The Houndmaster','The Huntress','The Knight','The Krasue',
      'The Legion','The Lich','The Mastermind','The Nemesis','The Nightmare',
      'The Nurse','The Oni','The Onryo','The Pig','The Plague','The Shape',
      'The Singularity','The Spirit','The Trapper','The Trickster','The Unknown',
      'The Wraith','The Xenomorph'
    ];

    const SURVIVORS = [
      'Ace Visconti','Ada Wong','Adam Francis','Alan Wake','Ashley J Williams',
      'Cheryl Mason','Claudette Morel','David King','Detective David Tapp',
      'Dwight Fairfield','Ellen Ripley','Elodie Rakoto','Felix Richter','Feng Min',
      'Gabriel Soma','Haddie Kaur','Jake Park','Jane Romero','Jeff Johansen',
      'Jill Valentine','Jonah Vasquez','Kate Denson','Lara Croft','Laurie Strode',
      'Leon S Kennedy','Meg Thomas','Michonne Grimes','Mikaela Reid','Nancy Wheeler',
      'Nea Karlsson','Nicolas Cage','Orela Rose','Quentin Smith','Rebecca Chambers',
      'Renato Lyra','Rick Grimes','Sable Ward','Steve Harrington','Taurie Cain',
      'Thalita Lyra','The Troupe','Trevor Belmont','Vee Boonyasak',
      'Vittorio Toscano','William Bill Overbeck','Yoichi Asakawa',
      'Yui Kimura','Yun Jin Lee','Zarina Kassir'
    ];

    function getTypeFromUrl() {
      const p = new URLSearchParams(window.location.search);
      const type = (p.get("type") || "").toLowerCase();
      if (["kill","killer","k"].includes(type)) return "kill";
      if (["surv","survivor","s"].includes(type)) return "surv";
      return "surv";
    }

    function pickRandom(arr) {
      return arr[Math.floor(Math.random() * arr.length)];
    }

    function init() {
      const type = getTypeFromUrl();
      const isKiller = type === "kill";

      document.body.classList.add(isKiller ? "killer" : "survivor");

      const list = isKiller ? KILLERS : SURVIVORS;
      const character = pickRandom(list);

      const path = isKiller
        ? `randomchar/img/kill/${character}.png`
        : `randomchar/img/surv/${character}.png`;

      document.getElementById("portrait").style.backgroundImage = `url("${path}")`;
      document.getElementById("char-name").textContent = character;
    }

    window.addEventListener("load", init);
  </script>
</body>
</html>
